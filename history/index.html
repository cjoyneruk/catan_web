<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/base.css">

    <title>Ultimate Catan - Game history</title>
</head>
<body>

    <nav>
        <div class="container">
            <div class="nav-container">
                <h1>Ultimate Catan</h1>
                <ul class="nav-menu">
                    <li><a href="/" class="nav-link">Home</a></li>
                    <li><a href="/history" class="nav-link">History</a></li>
                </ul>
            </div>

        </div>
    </nav>

    <div class="container header">
        <div class="title">
            <h1>Game history</h1>
        </div>
        <div class="game_selector">
            <div class="game_type">
                <h3 id="game_type_display">All</h3>
            </div>
            <svg id="icon_orig" class="icon original" onmouseover="hoverGameType('Original')" onmouseout="defaultGameType('All')" onmousedown="selectGameType(1)" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 1000 1000" enable-background="new 0 0 1000 1000" xml:space="preserve">                
                <g><path d="M414.4,469.1c1.4-0.2,33.5-4,54-4c7.2,0,12.3,0.5,16,1.5l16.9-9.3c1.5-0.8,3.2-1.2,4.9-1.2c2.2,0,4.3,0,6.1,1.4c0.2,0.1,15.3,10.7,30.4,10.7l1.2-1.4c0.2,0,0.3,0,0.4,0c2.1,0,4.2,2.1,5.9,3.3c1.6,1.2,123.5,89.3,284.8,160c0.5-7.2,1.1-14.3,1.1-21.6c0-181.5-147.1-328.6-328.6-328.6c-175.3,0-318.1,137.3-327.7,310.2c81.1-36.8,158.5-76.7,230.6-119.6C411.7,469.7,413,469.2,414.4,469.1z"/><path d="M834.5,641.1c-165.9-71.7-290.1-161.5-290.1-161.5c-0.5,0-1.1,0-1.7,0c-18.9,0-36.5-13.5-36.5-13.5l-22.3,12.2c0.5-2.4-6.2-3.2-15.5-3.2c-20.2,0-52.9,3.9-52.9,3.9c-79.7,47.4-159.9,87.9-236.1,122.3c-34.5,15.6-68.3,30.1-100.8,43.1c10.4,6.5,19.4,11.9,21.5,11.9c5.1,0-90,46.3-90,46.3l76.1-23.4v6.8v3.4l59.5-11.9l62-14.7l-58.3,39.7l95.9-39.7l19.1,19.8l56.3-59.5l-8.4,51l42.6-23.8c0,0-64.6,68.1-59.5,69.7c0.1,0,0.1,0,0.2,0c7.2,0,98.4-66.4,98.4-66.4s-37.7,51-28.2,54.5c0.8,0.3,2.3,0.4,4.5,0.4c24.1,0,126.8-17.1,175.1-51.5c16.6-11.8,29.5-15.8,39.3-15.8c21.5,0,28.7,19.2,28.7,19.2l78.2,40.8l-32.3-29.7c0,0,5.3-0.5,13.4-0.5c16.1,0,43.3,1.9,61.5,13.2c5.1,3.1,8.2,4.4,10,4.4c8.1,0-10-24.8-10-24.8s125.8,42.5,139.5,44.2c0.4,0,0.7,0.1,1,0.1c9.8,0-40.1-29-40.1-29l81.6,15.3l73.5,7.3c0.2-1.7,0.4-3.3,0.6-5C935.9,681.8,883.5,662.2,834.5,641.1z"/></g>
            </svg>
            <svg id="icon_sea" class="icon seafarers" onmouseover="hoverGameType('Sea Farers')" onmouseout="defaultGameType('All')" onmousedown="selectGameType(2)" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 1000 1000" enable-background="new 0 0 1000 1000" xml:space="preserve">
                <g><path d="M708.9,657.8h98.5C759.8,733,632,784,547.6,784V481.8h107.8v-83.3H547.6c0-17.9,0-5.9,0-23.9c0-106.5,93.3-119.8,93.3-223.7C640.9,73.1,577.8,10,500,10c-77.8,0-140.9,63.1-140.9,140.9c0,103.9,93.3,117.2,93.3,223.7c0,18,0,6,0,23.9H344.6v83.3h107.8V784c-84.4,0-212.2-51-259.8-126.2h98.5L77.8,526.2v249l53.6-76C245.4,889.3,400.7,880.9,500,990c99.3-109.1,254.6-100.7,368.7-290.8l53.6,76v-249L708.9,657.8z M500,213.6c-34.5,0-62.6-28.1-62.6-62.6c0-34.5,28.1-62.6,62.6-62.6c34.5,0,62.6,28.1,62.6,62.6C562.6,185.5,534.5,213.6,500,213.6z"/></g>
            </svg>
            <svg id="icon_city" class="icon cities_knights" onmouseover="hoverGameType('Cities and Knights')" onmouseout="defaultGameType('All')" onmousedown="selectGameType(3)" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 1000 1000" enable-background="new 0 0 1000 1000" xml:space="preserve">                
                <g transform="translate(0.000000,511.000000) scale(0.100000,-0.100000)"><path d="M9336.9,4935.4c-208.7-106.5-366.3-342.9-366.3-551.6c0-44.7-121.4-176.8-585.7-641.1l-585.7-585.7l-372.7,372.7c-308.8,308.8-372.7,383.4-372.7,432.4c0,187.4-225.8,308.8-402.6,219.4c-213-110.8-172.5-438.8,59.7-502.7c57.5-14.9,155.5-98,374.8-319.5l298.2-298.2l-176.8-176.8l-174.6-174.7v-285.4v-285.4l283.3,14.9l281.2,14.9l170.4,168.3l170.4,170.4l336.5-336.5c183.2-183.2,334.4-349.3,334.4-366.3c0-57.5,83.1-168.3,151.2-204.5c78.8-40.5,204.5-31.9,283.3,19.2c74.5,49,125.7,174.7,108.6,264.1c-19.2,108.6-129.9,217.2-234.3,234.3c-76.7,10.6-127.8,53.2-475,398.3l-387.6,385.5l590,590c519.7,519.7,600.6,592.1,658.1,592.1c251.3,0,543.1,264.1,592.1,536.7c19.2,110.7-17.1,232.2-93.7,304.6c-55.4,51.1-85.2,63.9-198.1,70.3C9488.1,5001.4,9454.1,4992.9,9336.9,4935.4z M7647.9,2664.9c-34.1-200.2-27.7-191.7-193.8-219.4c-83.1-12.8-153.4-21.3-155.5-19.2c-8.5,8.5,46.9,293.9,57.5,306.7c10.6,8.5,300.3,68.2,308.8,61.8C7669.2,2792.7,7660.7,2735.2,7647.9,2664.9z"/><path d="M244.5,4914.1c-38.3-21.3-85.2-66-106.5-98c-55.4-85.2-49-270.5,10.6-391.9c98-204.5,342.9-383.4,526.1-383.4c83.1,0,100.1-14.9,677.3-592.1l590-590l-368.5-368.5c-285.4-285.4-379.1-366.3-421.7-366.3c-76.7,0-193.8-83.1-238.5-170.4c-66-129.9-10.6-285.4,123.5-349.3c151.2-72.4,304.6-12.8,372.7,142.7c25.6,57.5,147,196,338.6,387.6l300.3,298.2l166.1-166.1l164-164h291.8h289.7l-10.6,272.6l-10.6,270.5l-168.3,170.4l-168.3,170.4l347.2,347.2c189.6,189.6,362.1,345,381.3,345c59.6,0,164,106.5,187.4,191.7c49,178.9-78.8,340.8-272.6,340.8c-80.9,0-106.5-10.6-176.8-83.1c-63.9-63.9-83.1-100.1-83.1-153.3c0-66-38.3-110.7-394-466.4l-394-394L1614,3697.9c-581.5,581.5-581.5,581.5-594.2,688C972.9,4769.2,517.2,5080.2,244.5,4914.1z M2502.2,2696.9l119.3-25.5l23.4-119.3c12.8-66,29.8-136.3,34.1-155.5c6.4-23.4,0-38.3-19.2-38.3c-68.2,0-283.3,51.1-296.1,70.3c-6.4,12.8-19.2,66-27.7,119.3c-6.4,53.2-17,115-23.4,136.3C2299.8,2728.8,2331.8,2731,2502.2,2696.9z"/><path d="M5839.7,1516.9L4955.8,633L4106,1480.7l-847.7,845.6l10.7-270.5l10.6-272.6h-291.8h-289.7l851.9-851.9L4402,79.3L2568.2-1756.7L734.4-3594.7L564-3871.6C385.1-4163.4,189.2-4534,165.7-4632c-6.4-32-4.3-61.8,6.4-70.3c59.6-36.2,647.5,264.1,1024.5,523.9c147,100.1,749.7,692.2,3130.9,3075.5l2949.9,2949.8l-279-12.8l-281.1-14.9l12.8,291.8c4.3,159.7,6.4,289.7,2.1,289.7C6727.8,2400.8,6325.3,2002.5,5839.7,1516.9z"/><path d="M5556.4-534.1l-270.5-270.5L6983.4-2500C8813-4323.1,8700.1-4223,9256-4542.5c232.1-134.2,453.7-234.3,513.3-234.3c76.7,0,10.6,183.2-217.3,592.1c-276.9,498.4-238.5,455.8-2027.6,2247C6604.3-1015.4,5846.1-261.5,5839.7-261.5S5705.5-382.9,5556.4-534.1z"/></g>
            </svg>
        </div>
    </div>

    <div class="container">
        <div class="card-grid">

            <div class="card history-card cities_knights">
                <div class="card-header">
                    <div>
                        <h2>Cities and Knights</h2>
                        <h4>20th March 2023</h4>
                    </div>
                    <svg class="card-icon cities_knights" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 1000 1000" enable-background="new 0 0 1000 1000" xml:space="preserve">                
                        <g transform="translate(0.000000,511.000000) scale(0.100000,-0.100000)"><path d="M9336.9,4935.4c-208.7-106.5-366.3-342.9-366.3-551.6c0-44.7-121.4-176.8-585.7-641.1l-585.7-585.7l-372.7,372.7c-308.8,308.8-372.7,383.4-372.7,432.4c0,187.4-225.8,308.8-402.6,219.4c-213-110.8-172.5-438.8,59.7-502.7c57.5-14.9,155.5-98,374.8-319.5l298.2-298.2l-176.8-176.8l-174.6-174.7v-285.4v-285.4l283.3,14.9l281.2,14.9l170.4,168.3l170.4,170.4l336.5-336.5c183.2-183.2,334.4-349.3,334.4-366.3c0-57.5,83.1-168.3,151.2-204.5c78.8-40.5,204.5-31.9,283.3,19.2c74.5,49,125.7,174.7,108.6,264.1c-19.2,108.6-129.9,217.2-234.3,234.3c-76.7,10.6-127.8,53.2-475,398.3l-387.6,385.5l590,590c519.7,519.7,600.6,592.1,658.1,592.1c251.3,0,543.1,264.1,592.1,536.7c19.2,110.7-17.1,232.2-93.7,304.6c-55.4,51.1-85.2,63.9-198.1,70.3C9488.1,5001.4,9454.1,4992.9,9336.9,4935.4z M7647.9,2664.9c-34.1-200.2-27.7-191.7-193.8-219.4c-83.1-12.8-153.4-21.3-155.5-19.2c-8.5,8.5,46.9,293.9,57.5,306.7c10.6,8.5,300.3,68.2,308.8,61.8C7669.2,2792.7,7660.7,2735.2,7647.9,2664.9z"/><path d="M244.5,4914.1c-38.3-21.3-85.2-66-106.5-98c-55.4-85.2-49-270.5,10.6-391.9c98-204.5,342.9-383.4,526.1-383.4c83.1,0,100.1-14.9,677.3-592.1l590-590l-368.5-368.5c-285.4-285.4-379.1-366.3-421.7-366.3c-76.7,0-193.8-83.1-238.5-170.4c-66-129.9-10.6-285.4,123.5-349.3c151.2-72.4,304.6-12.8,372.7,142.7c25.6,57.5,147,196,338.6,387.6l300.3,298.2l166.1-166.1l164-164h291.8h289.7l-10.6,272.6l-10.6,270.5l-168.3,170.4l-168.3,170.4l347.2,347.2c189.6,189.6,362.1,345,381.3,345c59.6,0,164,106.5,187.4,191.7c49,178.9-78.8,340.8-272.6,340.8c-80.9,0-106.5-10.6-176.8-83.1c-63.9-63.9-83.1-100.1-83.1-153.3c0-66-38.3-110.7-394-466.4l-394-394L1614,3697.9c-581.5,581.5-581.5,581.5-594.2,688C972.9,4769.2,517.2,5080.2,244.5,4914.1z M2502.2,2696.9l119.3-25.5l23.4-119.3c12.8-66,29.8-136.3,34.1-155.5c6.4-23.4,0-38.3-19.2-38.3c-68.2,0-283.3,51.1-296.1,70.3c-6.4,12.8-19.2,66-27.7,119.3c-6.4,53.2-17,115-23.4,136.3C2299.8,2728.8,2331.8,2731,2502.2,2696.9z"/><path d="M5839.7,1516.9L4955.8,633L4106,1480.7l-847.7,845.6l10.7-270.5l10.6-272.6h-291.8h-289.7l851.9-851.9L4402,79.3L2568.2-1756.7L734.4-3594.7L564-3871.6C385.1-4163.4,189.2-4534,165.7-4632c-6.4-32-4.3-61.8,6.4-70.3c59.6-36.2,647.5,264.1,1024.5,523.9c147,100.1,749.7,692.2,3130.9,3075.5l2949.9,2949.8l-279-12.8l-281.1-14.9l12.8,291.8c4.3,159.7,6.4,289.7,2.1,289.7C6727.8,2400.8,6325.3,2002.5,5839.7,1516.9z"/><path d="M5556.4-534.1l-270.5-270.5L6983.4-2500C8813-4323.1,8700.1-4223,9256-4542.5c232.1-134.2,453.7-234.3,513.3-234.3c76.7,0,10.6,183.2-217.3,592.1c-276.9,498.4-238.5,455.8-2027.6,2247C6604.3-1015.4,5846.1-261.5,5839.7-261.5S5705.5-382.9,5556.4-534.1z"/></g>
                    </svg>
                </div>
                <div class="card-body">
                    sdfsdifn
                </div>
            </div>


            <div class="card history-card original">
                <div class="card-header">
                    <div>
                        <h2>Original</h2>
                        <h4>20th March 2023</h4>
                    </div>
                    <svg class="card-icon original" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 1000 1000" enable-background="new 0 0 1000 1000" xml:space="preserve">                
                        <g><path d="M414.4,469.1c1.4-0.2,33.`5-4,54-4c7.2,0,12.3,0.5,16,1.5l16.9-9.3c1.5-0.8,3.2-1.2,4.9-1.2c2.2,0,4.3,0,6.1,1.4c0.2,0.1,15.3,10.7,30.4,10.7l1.2-1.4c0.2,0,0.3,0,0.4,0c2.1,0,4.2,2.1,5.9,3.3c1.6,1.2,123.5,89.3,284.8,160c0.5-7.2,1.1-14.3,1.1-21.6c0-181.5-147.1-328.6-328.6-328.6c-175.3,0-318.1,137.3-327.7,310.2c81.1-36.8,158.5-76.7,230.6-119.6C411.7,469.7,413,469.2,414.4,469.1z"/><path d="M834.5,641.1c-165.9-71.7-290.1-161.5-290.1-161.5c-0.5,0-1.1,0-1.7,0c-18.9,0-36.5-13.5-36.5-13.5l-22.3,12.2c0.5-2.4-6.2-3.2-15.5-3.2c-20.2,0-52.9,3.9-52.9,3.9c-79.7,47.4-159.9,87.9-236.1,122.3c-34.5,15.6-68.3,30.1-100.8,43.1c10.4,6.5,19.4,11.9,21.5,11.9c5.1,0-90,46.3-90,46.3l76.1-23.4v6.8v3.4l59.5-11.9l62-14.7l-58.3,39.7l95.9-39.7l19.1,19.8l56.3-59.5l-8.4,51l42.6-23.8c0,0-64.6,68.1-59.5,69.7c0.1,0,0.1,0,0.2,0c7.2,0,98.4-66.4,98.4-66.4s-37.7,51-28.2,54.5c0.8,0.3,2.3,0.4,4.5,0.4c24.1,0,126.8-17.1,175.1-51.5c16.6-11.8,29.5-15.8,39.3-15.8c21.5,0,28.7,19.2,28.7,19.2l78.2,40.8l-32.3-29.7c0,0,5.3-0.5,13.4-0.5c16.1,0,43.3,1.9,61.5,13.2c5.1,3.1,8.2,4.4,10,4.4c8.1,0-10-24.8-10-24.8s125.8,42.5,139.5,44.2c0.4,0,0.7,0.1,1,0.1c9.8,0-40.1-29-40.1-29l81.6,15.3l73.5,7.3c0.2-1.7,0.4-3.3,0.6-5C935.9,681.8,883.5,662.2,834.5,641.1z"/></g>
                    </svg>
                </div>
                <div class="card-body">
                    sdfsdifn
                </div>
            </div>

        </div>
    </div>

    <script src="../js/gsheets.js"></script>

    <script>
 
    const game_options = ['All', 'Original', 'Sea Farers', 'Cities and Knights']
    const icon_id_list = ['icon_orig', 'icon_sea', 'icon_city']
    let selection = 0
    let display = 'All games'
    let leaderboards = {
        'All': null,
        'Original': null,
        'Sea Farers': null,
        'Cities and Knights': null
    }

    function hoverGameType(game_type){
        display_header = document.getElementById('game_type_display')
        display_header.innerHTML = game_type
    }

    function defaultGameType(){
        display_header = document.getElementById('game_type_display')
        display_header.innerHTML = game_options[selection]
    }

    function selectGameType(i){

        let current_icon = document.getElementById(icon_id_list[i-1])

        if (selection == i){
            // Revert to All
            current_icon.classList.remove('icon-active')
            selection = 0
            updateLeadboardTable(leaderboards[game_options[selection]])
        } else {
            // Select filter
            current_icon.classList.add('icon-active')
            for (let j=0; j<3; j++){
                
                if (j !== i-1) {
                    let other_icon = document.getElementById(icon_id_list[j])
                    other_icon.classList.remove('icon-active')
                }
                
            }
            selection = i
            updateLeadboardTable(leaderboards[game_options[selection]])
        }

    }

    async function main(){

        const url = 'https://docs.google.com/spreadsheets/d/13lr1lbVzE-fpeGLy_X80PKPHCEXzpqUe1Yu04Q2sin8/gviz/tq?'

        data = await getSheetData(url)

        const records = createRecords(data)

        let games = createGames(records)

    }

    main()

    </script>

</body>
</html>